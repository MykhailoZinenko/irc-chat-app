@use './quasar.variables' as qvars;

:root {
  /* Surface & borders */
  --app-surface: #{qvars.$menu-background};
  --app-surface-muted: #{qvars.$grey-1};
  --app-surface-strong: #{qvars.$blue-1};
  --app-neutral-weak: #{qvars.$grey-2};
  --app-border: #{qvars.$separator-color};
  --app-border-strong: #{qvars.$grey-4};

  /* Text */
  --app-text-strong: #{qvars.$grey-9};
  --app-text: #{qvars.$grey-8};
  --app-text-soft: #{qvars.$grey-7};
  --app-text-muted: #{qvars.$grey-6};
  --app-placeholder: #{qvars.$grey-5};

  /* Brand */
  --app-primary: var(--q-primary);
  --app-primary-strong: color-mix(in srgb, var(--q-primary) 85%, var(--q-dark) 15%);
  --app-primary-soft: color-mix(in srgb, var(--q-primary) 12%, var(--app-surface) 88%);
  --app-accent: var(--q-accent);
  --app-accent-soft: color-mix(in srgb, var(--q-accent) 12%, var(--app-surface) 88%);
  --app-gradient-start: #{qvars.$blue-5};
  --app-gradient-end: #{qvars.$purple-6};
  --app-accent-start: #{qvars.$blue-5};
  --app-accent-end: #{qvars.$purple-6};

  /* Status */
  --app-danger: var(--q-negative);
  --app-danger-soft: #{qvars.$red-1};
  --app-positive-soft: #{qvars.$green-1};
  --app-info-soft: #{qvars.$blue-2};
  --app-overlay: color-mix(in srgb, var(--q-dark) 50%, transparent);
  --app-status-online: #{qvars.$green-6};
  --app-status-dnd: #{qvars.$orange-6};
  --app-status-offline: #{qvars.$grey-6};
  --app-surface-muted-strong: #{qvars.$blue-2};

  /* Effects */
  --app-shadow-soft: 0 2px 8px rgb(0 0 0 / 8%);
  --app-shadow-strong: 0 4px 12px rgb(0 0 0 / 15%);
  --app-scrollbar-track: #{qvars.$grey-2};
  --app-scrollbar-thumb: #{qvars.$grey-4};
  --app-scrollbar-thumb-hover: #{qvars.$grey-5};

  /* Mentions */
  --app-mention: var(--q-info);
  --app-mention-own: var(--app-info-soft);
  --app-mention-self: var(--q-positive);
  --app-mention-own-self: var(--app-positive-soft);
  --app-mention-unknown: var(--app-text-muted);
  --app-mention-own-unknown: var(--app-border);
}

body {
  background: var(--app-surface-muted);
  color: var(--app-text);
  transition: background-color 0.25s ease, color 0.25s ease;
}

#q-app {
  background: transparent;
  color: inherit;
}

::selection {
  background: color-mix(in srgb, var(--app-primary) 16%, transparent);
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--app-scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--app-scrollbar-thumb);
  border-radius: 999px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--app-scrollbar-thumb-hover);
}

/* Utility overrides (keep tailwind-like names but route through theme vars) */
.bg-white {
  background-color: var(--app-surface);
}

.bg-gray-50 {
  background-color: var(--app-surface-muted);
}

.bg-blue-50 {
  background-color: var(--app-primary-soft);
}

.bg-purple-50 {
  background-color: var(--app-accent-soft);
}

.bg-green-50 {
  background-color: var(--app-positive-soft);
}

.bg-gray-100 {
  background-color: var(--app-neutral-weak);
}

.bg-blue-100 {
  background-color: var(--app-info-soft);
}

.bg-red-50 {
  background-color: var(--app-danger-soft);
}

.bg-blue-500 {
  background-color: var(--app-primary);
}

.bg-gradient-to-br {
  background: linear-gradient(to bottom right, var(--app-gradient-start), var(--app-gradient-end));
  color: #fff;
}

.bg-black {
  background-color: var(--q-dark);
}

.bg-opacity-50 {
  opacity: 0.5;
}

.hover\:bg-gray-50:hover {
  background-color: var(--app-surface-muted);
}

.hover\:bg-gray-100:hover {
  background-color: var(--app-neutral-weak);
}

.hover\:bg-red-50:hover {
  background-color: var(--app-danger-soft);
}

.border-r {
  border-right-width: 1px;
  border-color: var(--app-border);
}

.border-l {
  border-left-width: 1px;
  border-color: var(--app-border);
}

.border-b {
  border-bottom-width: 1px;
  border-color: var(--app-border);
}

.border-t {
  border-top-width: 1px;
  border-color: var(--app-border);
}

.border-blue-500 {
  border-color: var(--app-primary);
}

.border-gray-200 {
  border-color: var(--app-border);
}

.text-blue-600 {
  color: var(--app-primary-strong);
}

.text-blue-500 {
  color: var(--app-primary);
}

.text-gray-800 {
  color: var(--app-text-strong);
}

.text-gray-700 {
  color: var(--app-text);
}

.text-gray-600 {
  color: var(--app-text-soft);
}

.text-gray-500 {
  color: var(--app-text-muted);
}

.text-red-600 {
  color: var(--app-danger);
}

.app-surface {
  background-color: var(--app-surface);
}

.app-surface-muted {
  background-color: var(--app-surface-muted);
}

.app-border {
  border: 1px solid var(--app-border);
}

.app-border-subtle {
  border: 1px solid var(--app-border-strong);
}

.app-overlay {
  background-color: var(--app-overlay);
}

.app-gradient {
  background: linear-gradient(to bottom right, var(--app-gradient-start), var(--app-gradient-end));
  color: #fff;
}

.app-gradient-surface {
  background: linear-gradient(to bottom, var(--app-surface-muted), var(--app-surface));
}

.app-gradient-soft {
  background: linear-gradient(to right, var(--app-primary-soft), var(--app-accent-soft));
}

.app-shadow {
  box-shadow: var(--app-shadow-soft);
}

.border-blue-200 {
  border-color: var(--app-primary-soft);
}

/* Override Quasar component colors to use theme colors */
:deep(.q-btn-toggle) {
  .q-btn--active {
    background-color: var(--app-primary) !important;
    color: white !important;
  }
}

:deep(.q-radio__inner),
:deep(.q-checkbox__inner),
:deep(.q-toggle__inner) {
  color: var(--app-primary) !important;
}

:deep(.q-radio__inner--truthy),
:deep(.q-checkbox__inner--truthy),
:deep(.q-toggle__inner--truthy) {
  color: var(--app-primary) !important;
}

:deep(.q-radio__bg),
:deep(.q-checkbox__bg),
:deep(.q-toggle__track) {
  color: var(--app-primary) !important;
}

:deep(.q-field--focused .q-field__control::before),
:deep(.q-field--focused .q-field__control::after) {
  border-color: var(--app-primary) !important;
}

:deep(.q-field--focused .q-field__label) {
  color: var(--app-primary) !important;
}

/* Override hardcoded blue text colors to use theme primary */
.text-blue-600 {
  color: var(--app-primary) !important;
}

.text-blue-500 {
  color: var(--app-primary);
}

.bg-blue-50 {
  background-color: var(--app-primary-soft);
}

.bg-blue-500 {
  background-color: var(--app-primary);
}

.border-blue-500 {
  border-color: var(--app-primary);
}

.border-l-4 {
  border-left-width: 4px;
}
